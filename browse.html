<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browse All Comics - Comixa</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">Comixa</a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="browse.html">Browse</a></li>
                <li><a href="cart.html" class="cart-icon">
                    ðŸ›’
                    <span class="cart-badge" style="display: none;">0</span>
                </a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <h1 style="text-align: center; margin: 2rem 0;">Browse All Comics</h1>
        <p style="text-align: center; color: var(--text-secondary); margin-bottom: 2rem;">Shop from our wide range of products</p>

        <!-- Filter and Sort Controls -->
        <div class="controls">
            <div class="control-group">
                <label for="publisherFilter">Publisher</label>
                <select id="publisherFilter">
                    <option value="">All Publishers</option>
                </select>
            </div>
            <div class="control-group">
                <label for="characterFilter">Character</label>
                <select id="characterFilter">
                    <option value="">All Characters</option>
                </select>
            </div>
            <div class="control-group">
                <label for="genreFilter">Genre</label>
                <select id="genreFilter">
                    <option value="">All Genres</option>
                </select>
            </div>
            <div class="control-group">
                <label for="sortBy">Sort By</label>
                <select id="sortBy">
                    <option value="default">Default</option>
                    <option value="price-low">Price: Low to High</option>
                    <option value="price-high">Price: High to Low</option>
                    <option value="title-asc">Title: A-Z</option>
                    <option value="title-desc">Title: Z-A</option>
                    <option value="date-new">Release Date: Newest</option>
                    <option value="date-old">Release Date: Oldest</option>
                </select>
            </div>
            <div class="control-group" style="justify-content: flex-end;">
                <button class="clear-filters" onclick="clearFilters()">Clear Filters</button>
            </div>
        </div>

        <!-- Results Count -->
        <div id="resultsCount" style="color: var(--text-secondary); margin-bottom: 1rem;"></div>

        <!-- Comic Grid -->
        <div class="comic-grid" id="comicGrid"></div>

        <!-- Empty State -->
        <div id="emptyState" style="display: none; text-align: center; padding: 3rem; color: var(--text-muted);">
            <h2>No comics found</h2>
            <p>Try adjusting your filters to see more results.</p>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About Comixa</h3>
                <p style="color: var(--text-secondary);">Your ultimate destination for comic books, graphic novels, and collectibles.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="browse.html">Browse All Comics</a></li>
                    <li><a href="cart.html">Shopping Cart</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Publishers</h3>
                <ul>
                    <li><a href="browse.html?publisher=Marvel">Marvel</a></li>
                    <li><a href="browse.html?publisher=DC">DC Comics</a></li>
                    <li><a href="browse.html?publisher=Image">Image Comics</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contact</h3>
                <p style="color: var(--text-secondary);">Email: info@comixa.com</p>
                <p style="color: var(--text-secondary);">Phone: +91 9846283843</p>
                <div class="social-links">
                    <a href="#" class="social-link">Facebook</a>
                    <a href="#" class="social-link">Instagram</a>
                    <a href="#" class="social-link">Twitter</a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Customer Service</h3>
                <ul>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms & Conditions</a></li>
                    <li><a href="#">FAQs</a></li>
                    <li><a href="#">Return Policy</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Comixa. All rights reserved.</p>
        </div>
    </footer>

    <script src="comics.js"></script>
    <script src="utils.js"></script>
    <script>
        let filteredComics = [...comicsData];

        // Initialize filter options
        function initializeFilters() {
            const publishers = getUniquePublishers();
            const characters = getUniqueCharacters();
            const genres = getUniqueGenres();

            const publisherSelect = document.getElementById('publisherFilter');
            const characterSelect = document.getElementById('characterFilter');
            const genreSelect = document.getElementById('genreFilter');

            publishers.forEach(publisher => {
                const option = document.createElement('option');
                option.value = publisher;
                option.textContent = publisher;
                publisherSelect.appendChild(option);
            });

            characters.forEach(character => {
                const option = document.createElement('option');
                option.value = character;
                option.textContent = character;
                characterSelect.appendChild(option);
            });

            genres.forEach(genre => {
                const option = document.createElement('option');
                option.value = genre;
                option.textContent = genre;
                genreSelect.appendChild(option);
            });

            // Check for URL parameters
            const urlPublisher = getURLParameter('publisher');
            if (urlPublisher) {
                publisherSelect.value = urlPublisher;
            }
        }

        // Filter comics
        function filterComics() {
            const publisher = document.getElementById('publisherFilter').value;
            const character = document.getElementById('characterFilter').value;
            const genre = document.getElementById('genreFilter').value;

            filteredComics = comicsData.filter(comic => {
                const matchPublisher = !publisher || comic.publisher === publisher;
                const matchCharacter = !character || comic.character === character;
                const matchGenre = !genre || comic.genre === genre;
                return matchPublisher && matchCharacter && matchGenre;
            });

            sortComics();
            displayComics();
        }

        // Sort comics
        function sortComics() {
            const sortBy = document.getElementById('sortBy').value;

            switch (sortBy) {
                case 'price-low':
                    filteredComics.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filteredComics.sort((a, b) => b.price - a.price);
                    break;
                case 'title-asc':
                    filteredComics.sort((a, b) => a.title.localeCompare(b.title));
                    break;
                case 'title-desc':
                    filteredComics.sort((a, b) => b.title.localeCompare(a.title));
                    break;
                case 'date-new':
                    filteredComics.sort((a, b) => new Date(b.releaseDate) - new Date(a.releaseDate));
                    break;
                case 'date-old':
                    filteredComics.sort((a, b) => new Date(a.releaseDate) - new Date(b.releaseDate));
                    break;
                default:
                    // Keep original order
                    break;
            }
        }

        // Display comics
        function displayComics() {
            const grid = document.getElementById('comicGrid');
            const emptyState = document.getElementById('emptyState');
            const resultsCount = document.getElementById('resultsCount');

            grid.innerHTML = '';

            if (filteredComics.length === 0) {
                grid.style.display = 'none';
                emptyState.style.display = 'block';
                resultsCount.textContent = '0 comics found';
            } else {
                grid.style.display = 'grid';
                emptyState.style.display = 'none';
                resultsCount.textContent = `${filteredComics.length} comic${filteredComics.length !== 1 ? 's' : ''} found`;

                filteredComics.forEach(comic => {
                    grid.appendChild(createComicCard(comic));
                });
            }
        }

        // Create Comic Card Element
        function createComicCard(comic) {
            const card = document.createElement('div');
            card.className = 'comic-card fade-in';
            card.onclick = () => window.location.href = `comic-detail.html?id=${comic.id}`;

            card.innerHTML = `
                <img src="${comic.coverImage}" alt="${comic.title}" class="comic-card-image">
                <div class="comic-card-info">
                    <a href="comic-detail.html?id=${comic.id}" class="comic-card-title">${comic.title}</a>
                    <div class="comic-card-publisher">${comic.publisher} â€¢ ${comic.character}</div>
                    <div class="comic-card-price">${formatPrice(comic.price)}</div>
                </div>
            `;

            return card;
        }

        // Clear filters
        function clearFilters() {
            document.getElementById('publisherFilter').value = '';
            document.getElementById('characterFilter').value = '';
            document.getElementById('genreFilter').value = '';
            document.getElementById('sortBy').value = 'default';
            filterComics();
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            initializeFilters();
            filterComics();

            // Add event listeners
            document.getElementById('publisherFilter').addEventListener('change', filterComics);
            document.getElementById('characterFilter').addEventListener('change', filterComics);
            document.getElementById('genreFilter').addEventListener('change', filterComics);
            document.getElementById('sortBy').addEventListener('change', filterComics);
        });
    </script>
</body>
</html>


