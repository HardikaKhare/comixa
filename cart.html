<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart - ComicVerse Hub</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">ComicVerse Hub</a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="browse.html">Browse</a></li>
                <li><a href="cart.html" class="cart-icon">
                    ðŸ›’
                    <span class="cart-badge" style="display: none;">0</span>
                </a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <h1 style="text-align: center; margin: 2rem 0;">Shopping Cart</h1>

        <div class="cart-container">
            <div id="cartItems"></div>
            <div id="emptyCart" class="empty-cart" style="display: none;">
                <h2>Your cart is empty</h2>
                <p>Start adding comics to your cart!</p>
                <a href="browse.html" class="carousel-btn" style="margin-top: 1rem; display: inline-block;">Browse Comics</a>
            </div>
            <div id="cartSummary" class="cart-summary" style="display: none;">
                <h3>Order Summary</h3>
                <div class="cart-total">Total: <span id="cartTotal">$0.00</span></div>
                <button class="checkout-btn" onclick="checkout()">Proceed to Checkout</button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About ComicVerse Hub</h3>
                <p style="color: var(--text-secondary);">Your ultimate destination for comic books, graphic novels, and collectibles.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="browse.html">Browse All Comics</a></li>
                    <li><a href="cart.html">Shopping Cart</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Publishers</h3>
                <ul>
                    <li><a href="browse.html?publisher=Marvel">Marvel</a></li>
                    <li><a href="browse.html?publisher=DC">DC Comics</a></li>
                    <li><a href="browse.html?publisher=Image">Image Comics</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contact</h3>
                <p style="color: var(--text-secondary);">Email: info@comicversehub.com</p>
                <p style="color: var(--text-secondary);">Phone: (555) 123-4567</p>
                <div class="social-links">
                    <a href="#" class="social-link">Facebook</a>
                    <a href="#" class="social-link">Instagram</a>
                    <a href="#" class="social-link">Twitter</a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Customer Service</h3>
                <ul>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms & Conditions</a></li>
                    <li><a href="#">FAQs</a></li>
                    <li><a href="#">Return Policy</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 ComicVerse Hub. All rights reserved.</p>
        </div>
    </footer>

    <script src="comics.js"></script>
    <script src="utils.js"></script>
    <script>
        // Display cart items
        function displayCart() {
            const cart = Cart.getCart();
            const cartItemsContainer = document.getElementById('cartItems');
            const emptyCart = document.getElementById('emptyCart');
            const cartSummary = document.getElementById('cartSummary');

            cartItemsContainer.innerHTML = '';

            if (cart.length === 0) {
                emptyCart.style.display = 'block';
                cartSummary.style.display = 'none';
            } else {
                emptyCart.style.display = 'none';
                cartSummary.style.display = 'block';

                cart.forEach(item => {
                    const cartItem = createCartItemElement(item);
                    cartItemsContainer.appendChild(cartItem);
                });

                updateTotal();
            }
        }

        // Create cart item element
        function createCartItemElement(item) {
            const cartItem = document.createElement('div');
            cartItem.className = 'cart-item fade-in';
            cartItem.id = `cart-item-${item.id}`;

            cartItem.innerHTML = `
                <img src="${item.coverImage}" alt="${item.title}" class="cart-item-image">
                <div class="cart-item-info">
                    <h3 class="cart-item-title">${item.title}</h3>
                    <div class="cart-item-publisher">${item.publisher}</div>
                    <div class="cart-item-price">${formatPrice(item.price * item.quantity)}</div>
                </div>
                <div class="cart-item-controls">
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="updateQuantity('${item.id}', ${item.quantity - 1})">-</button>
                        <input type="number" class="quantity-input" value="${item.quantity}" min="1" 
                               onchange="updateQuantity('${item.id}', parseInt(this.value))" 
                               onkeyup="if(event.key==='Enter') updateQuantity('${item.id}', parseInt(this.value))">
                        <button class="quantity-btn" onclick="updateQuantity('${item.id}', ${item.quantity + 1})">+</button>
                    </div>
                    <button class="remove-item-btn" onclick="removeItem('${item.id}')">Remove</button>
                </div>
            `;

            return cartItem;
        }

        // Update quantity
        function updateQuantity(id, quantity) {
            if (quantity < 1) {
                removeItem(id);
                return;
            }

            Cart.updateQuantity(id, quantity);
            displayCart();
        }

        // Remove item
        function removeItem(id) {
            Cart.removeItem(id);
            Cart.showNotification('Item removed from cart');
            displayCart();
        }

        // Update total
        function updateTotal() {
            const total = Cart.getTotalPrice();
            document.getElementById('cartTotal').textContent = formatPrice(total);
        }

        // Checkout
        function checkout() {
            const cart = Cart.getCart();
            
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }

            // Simulate checkout process
            const total = Cart.getTotalPrice();
            const message = `Thank you for your order!\n\nTotal: ${formatPrice(total)}\n\nThis is a simulated checkout. In a real application, you would be redirected to a payment processor.`;
            
            alert(message);
            
            // Clear cart after checkout
            Cart.clearCart();
            displayCart();
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            displayCart();
        });
    </script>
</body>
</html>

